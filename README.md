# 餐厅管理系统V3.0

## 简介

餐厅管理系统V3.0 是一个基于Python的桌面应用程序，使用Tkinter库构建图形用户界面。系统分为服务器端和客户端，支持管理员管理和用户点餐功能。

## 主要功能

### 服务器端 (`Server.py`)

1. **管理员登录**:
   - 用户名和密码验证。
   - 支持最多3次错误尝试，超过后自动退出。
2. **功能选择**:
   - 编辑菜单。
   - 编辑管理员信息。
   - 查看收入明细。
   - 设置厨师数量。
3. **编辑菜单**:
   - 查看、添加、删除和修改菜品信息。
   - 支持搜索功能。
4. **编辑管理员信息**:
   - 查看、添加、删除和修改管理员信息。
5. **收入明细**:
   - 从订单文件中计算每日利润。
   - 绘制每日利润趋势图。
6. **设置厨师数量**:
   - 查看和修改不同级别的厨师数量。

### 客户端 (`Client.py`)

1. **用户点餐模式**:
   - 输入服务器信息（IP地址、端口号、用户名）。
2. **菜单显示**:
   - 从服务器获取菜单信息并显示。
3. **点餐操作**:
   - 选择菜品，调整数量，计算总价和总制作时长。
4. **选择用餐方式**:
   - 堂食或外送。
5. **外送地址输入**:
   - 输入送餐地址。
6. **订单确认**:
   - 显示订单详情，包括总价、预计完成时间和预计送达时间（如果选择外送）。
   - 将订单信息发送到服务器并保存到本地文件。

## 使用方法

### 服务器端

1. 运行 `Server.py`。
2. 管理员通过点击“管理模式”按钮进行登录。
3. 登录成功后，选择相应功能进行操作。

### 客户端

1. 运行 `Client.py`。
2. 点击“用户点餐模式”按钮。
3. 输入服务器信息并点击“确认”。
4. 选择菜品，调整数量，点击“确认”。
5. 选择用餐方式，输入送餐地址（如果选择外送）。
6. 点击“确认”完成订单。

## 依赖库

- `tkinter`
- `ttk`
- `messagebox`
- `matplotlib`
- `csv`
- `os`
- `threading`
- `socket`
- `json`
- `datetime`
- `time`

## 文件结构

```text
PBLF_Ultimate
├─ Client
│  ├─ Bills.txt
│  ├─ Client.py
│  ├─ CookManagement.py
│  ├─ Cooks.csv
│  ├─ Dishes.csv
│  ├─ Map.py
│  └─ SearchDishes.csv
├─ README.md
├─ Server
│  ├─ admininfo.csv
│  ├─ Bills.txt
│  ├─ CookManagement.py
│  ├─ Cooks.csv
│  ├─ Dishes.csv
│  ├─ Profit.csv
│  ├─ SearchDishes.csv
│  ├─ Server.py
│  └─ ShowCustomerStatus.pyw
└─ Test.py
```

## 注意事项

- 确保服务器和客户端在同一网络环境下运行。
- 确保服务器端正在运行，客户端才能成功连接。
- 确保所有CSV文件（如`Dishes.csv`, `admininfo.csv`, `Cooks.csv`）存在且格式正确。
